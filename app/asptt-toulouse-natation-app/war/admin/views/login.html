<link rel="stylesheet" href="../css/login.css" />

<div class="container" ng-controller="LoginController">
	<div class="row">
		<div class="col-md-offset-1">
    		<div class="row">
    			<h3>Se connecter</h3>
    		</div>
    		<div class="row">
    			<div class="col-md-offset-1">
    				<div class="row omb_socialButtons">
						<div class="col-md-10">
					        <a href="" ng-click="authenticateFederate('google')" class="btn btn-lg btn-block omb_btn-google">
						        <i class="fa fa-google-plus visible-xs"></i>
						        <span class="hidden-xs">Google+</span>
					        </a>
						</div>
					</div>
					<div class="row omb_loginOr">
						<div class="col-md-10">
							<hr class="omb_hrOr">
							<span class="omb_spanOr">OU</span>
						</div>
					</div>

					<div class="row">
						<div class="col-md-10">	
						    <form role="form" class="form-horizontal" name="loginForm" ng-submit="authenticate()" novalidate>
								<div class="form-group" ng-class="{'has-error has-feedback' : loginForm.email.$invalid && !loginForm.email.$pristine , 'has-success has-feedback':  !loginForm.email.$invalid && !loginForm.email.$pristine}">
									<label for="email" class="col-md-3 control-label">E-mail</label>
									<div class="col-md-6">
										<input type="email" class="form-control" id="email" name="email" placeholder="E-mail" ng-model="credentials.email" required />
										<span ng-class="{ 'glyphicon glyphicon-remove form-control-feedback' : loginForm.email.$invalid && !loginForm.email.$pristine , 'glyphicon glyphicon-ok form-control-feedback': !loginForm.email.$invalid && !loginForm.email.$pristine }"></span>
									</div>
									<div class="col-md-4" ng-show="loginForm.email.$dirty && loginForm.email.$invalid">
								      <span ng-show="loginForm.email.$error.required">E-mail obligatoire.</span>
								      <span ng-show="loginForm.email.$error.email">L'e-mail n'est pas valide.</span>
								    </div>
							    </div>
													
								<div class="form-group" ng-class="{'has-error has-feedback' : loginForm.password.$invalid && !loginForm.password.$pristine , 'has-success has-feedback':  !loginForm.password.$invalid && !loginForm.password.$pristine}">
									<label for="password" class="col-md-3 control-label">Mot de passe</label>
									<div class="col-md-6">
										<input type="password" class="form-control" name="password" id="password" placeholder="Mot de passe" ng-model="credentials.password" required />
									</div>
								</div>
								<div class="form-group">
									<div class="text-center" ng-class="{'bg-danger': !authenticated}" ng-show="loginForm.$submitted">
										<span ng-show="!authenticated"><strong>L'utilisateur {{email}} n'a pas connu.</strong></span>
									</div>
								</div>
								<div class="form-group" style="margin-top: 2%">
									<button class="btn btn-lg btn-primary btn-block" type="submit" ng-disabled="loginForm.$invalid">Connexion</button>
								</div>
								
							</form>
						</div>
			    	</div>
    	
					<div class="row ">
						<div class="col-md-4 col-md-offset-4">
							<p class="text-right">
								<button type="button" class="btn btn-primary" ng-click="forget()">J'ai oublié mon mot de passe</button>
								<div class="text-center" ng-class="{'bg-danger': !forgetOk}" ng-show="loginForm.$submitted">
									<span ng-show="!forgetOk"><strong>L'utilisateur {{email}} n'a pas connu.</strong></span>
								</div>
								<div class="text-center" ng-class="{'bg-success': forgetOk}" ng-show="loginForm.$submitted">
									<span ng-show="forgetOk"><strong>Un nouveau mot de passe est envoyé à l'adresse e-mail {{email}}.</strong></span>
								</div>
							</p>
						</div>
					</div>
</div>
</div>
</div>
</div>
</div>