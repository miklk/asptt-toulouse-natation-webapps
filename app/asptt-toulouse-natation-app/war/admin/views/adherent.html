<style>
.table-user-information > tbody > tr {
    border-top: 1px solid rgb(221, 221, 221);
}

.table-user-information > tbody > tr:first-child {
    border-top: 0;
}


.table-user-information > tbody > tr > td {
    border-top: 0;
}
</style>

<div class="row">
<div id="panel-adherent" class="col-md-11">
<div class="panel panel-info">
	<div class="panel-heading">
		<h3 class="panel-title">{{adherent.dossier.nom}} {{adherent.dossier.prenom}} - {{adherent.dossier.datenaissance}}</h3>
	</div>
	<div class="panel-body">
		<div class="row">
			<div class="col-md-7">
				<table class="table table-user-information">
					<tbody>
						<tr>
							<td>Maillot de bain</td>
							<td>{{adherent.dossier.maillot}}</td>
						</tr>
						<tr>
							<td>T-shirt</td>
							<td>{{adherent.dossier.tshirt}}</td>
						</tr>
						<tr>
							<td>Short</td>
							<td>{{adherent.dossier.short}}</td>
						</tr>
						<tr>
							<td>Profession</td>
							<td>{{adherent.dossier.profession}}</td>
						</tr>
						<tr>
							<td>Adresse</td>
							<td>{{adherent.dossier.adresse}}<br />{{adherent.dossier.codepostal}}&nbsp;{{adherent.dossier.ville}}</td>
						</tr>
						<tr>
							<td>Téléphone</td>
							<td>{{adherent.dossier.telephone}}<br />
							{{adherent.dossier.telephoneMere}} / {{adherent.dossier.telephoneMerePro}} (Mère - {{adherent.dossier.professionMere}})<br />
							{{adherent.dossier.telephonePere}} / {{adherent.dossier.telephonePerePro}} (Père - {{adherent.dossier.professionPere}})</td>
						</tr>
						 <tr>
							<td>E-mail</td>
							<td>{{adherent.dossier.email}}<br />
							{{adherent.dossier.emailsecondaire}}</td>
						</tr>
						<tr>
							<td>Personnes à contacter en cas d'urgence</td>
							<td>{{adherent.dossier.telephone}}<br />
							{{adherent.dossier.accidentNom1}}  {{adherent.dossier.accidentPrenom1}} {{adherent.dossier.accidentTelephone1}}<br />
							{{adherent.dossier.accidentNom2}}  {{adherent.dossier.accidentPrenom2}} {{adherent.dossier.accidentTelephone2}}</td>
						</tr>
						<tr>
							<td>Inscription</td>
							<td>
							<p>Inscrit le {{adherent.dossier.inscriptiondt | date: short}}</p>
							<div>Dossier:
								<ul>
							<li ng-switch on="adherent.dossier.complet">
								<span ng-switch-when="true">Complet
									&nbsp;<button type="button" class="btn btn-danger btn-xs" title="Dossier incomplet">
										<span class="glyphicon glyphicon-remove"></span>
									</button>
								</span>
								<span class="bg-danger" ng-switch-default>Incomplet
									&nbsp;<button type="button" class="btn btn-success btn-xs" title="Dossier complet" ng-click="dossierComplet()">
										<span class="glyphicon glyphicon-ok"></span>
									</button>
								</span>
							</li>
							<li ng-switch on="adherent.dossier.certificat">
								<span ng-switch-when="true">Certificat OK
									&nbsp;<button type="button" class="btn btn-danger btn-xs" title="Certificat non reçu">
										<span class="glyphicon glyphicon-remove"></span>
									</button>
								</span>
								<span class="bg-danger" ng-switch-default>Certificat manquant
									&nbsp;<button type="button" class="btn btn-success btn-xs" title="Certificat reçu">
										<span class="glyphicon glyphicon-ok"></span>
									</button>
									&nbsp;
									<button type="button" class="btn btn-info btn-xs" title="Envoyer un e-mail d'information (certificat manquant)">
										<span class="glyphicon glyphicon-send"></span>
									</button>
								</span>
							</li>
							<li ng-switch on="adherent.dossier.paiement">
								<span ng-switch-when="true">Paiement OK
									&nbsp;<button type="button" class="btn btn-danger btn-xs" title="Paiement non reçu">
										<span class="glyphicon glyphicon-remove"></span>
									</button>
								</span>
								<span class="bg-danger" ng-switch-default>Paiement manquant
									&nbsp;<button type="button" class="btn btn-success btn-xs" title="Paiement reçu">
										<span class="glyphicon glyphicon-ok"></span>
									</button>
									&nbsp;
									<button type="button" class="btn btn-info btn-xs" title="Envoyer un e-mail d'information (paiement manquant)">
										<span class="glyphicon glyphicon-send"></span>
									</button>
								</span>
							</li>
							</ul>
							<div ng-if="adherent.dossier.principal">
								<a href="#/adherents/{{adherent.dossier.principal}}" target="_blank" title="Dossier principal">Dossier principal</a>
							</div>
							<div ng-if="!adherent.dossier.principal">
								<p ng-switch on="adherent.dossier.facture">
									<span ng-switch-when="true">Facture demandée</span>
									<span ng-switch-default>Pas de facture</span>
								</p>
								<p>Mot de passe: {{adherent.dossier.motdepasse}}</p>
							</div>
							</div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="col-md-3">
				<h3>{{adherent.groupe.title}}</h3>
				<table class="table table-user-information">
					<tbody>
						<tr ng-repeat="creneau in adherent.creneaux">
							<td>{{creneau.swimmingPool}} {{creneau.dayOfWeek}} {{creneau.beginStr}}-{{creneau.endStr}}</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<div class="panel-footer">
		<a title="Envoyer un e-amil" type="button" class="btn btn-sm btn-primary"><i class="glyphicon glyphicon-envelope"></i></a>
		<span class="pull-right">
            <a href="#/adherents/edit/{{adherent.dossier.id}}" title="Modifier" type="button" class="btn btn-sm btn-warning"><i class="glyphicon glyphicon-edit"></i></a>
            <a href="" title="Changer de groupe" type="button" class="btn btn-sm btn-success" ng-click="loadGroupe()"><i class="glyphicon glyphicon-th-large"></i></a>
            <a href="" title="Changer de créneaux" type="button" class="btn btn-sm btn-success" ng-click="loadCreneaux()"><i class="glyphicon glyphicon-th"></i></a>
            <a title="Supprimer" type="button" class="btn btn-sm btn-danger"><i class="glyphicon glyphicon-remove"></i></a>
        </span>
	</div>
</div>
</div>
<div id="panel-groupe" class="hidden">
	<div class="panel panel-info">
		<div class="panel-heading">
			<h3 class="panel-title">Changement de groupe</h3>
		</div>
		<div class="panel-body">
			<select class="form-control" placeholder="Groupes" ng-change="loadCreneaux()" ng-model="adherent.groupe"
			    	ng-options="groupe.title for groupe in groupes.groups track by groupe.id">
			 	<option value="">Choisir un groupe</option>
			</select>
		</div>
	</div>
</div>

<div id="panel-creneaux" class="hidden">
	<div class="panel panel-info">
		<div class="panel-heading">
			<h3 class="panel-title">Sélection des créneaux</h3>
		</div>
		<div class="panel-body">
				<select multiple class="form-control" style="height: 300px" ng-model="adherent.creneaux" ng-options="(creneau.swimmingPool + ' ' + creneau.dayOfWeek + ' ' +  creneau.beginStr + '-' + creneau.endStr + ' (' + (creneau.placeDisponible - creneau.placeRestante) + '/' + creneau.placeDisponible + ')') for creneau in creneaux track by creneau.id">
					<option value="">Choisir un creneau</option>
				</select>
		</div>
		<div class="panel-footer">
			<button type="button" class="btn btn-primary btn-block" ng-click="updateAdherent()">Valider</button>
		</div>
		</div>
	</div>
</div>
</div>